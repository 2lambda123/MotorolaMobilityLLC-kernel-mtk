/*
 * Copyright (C) 2016 MediaTek Inc.
 *
 * This program is free software: you can redistribute it and/or modify
 * it under the terms of the GNU General Public License version 2 as
 * published by the Free Software Foundation.
 *
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
 * GNU General Public License for more details.
 */
#include "mtk_ppm_platform.h"

#ifdef PPM_TURBO_CORE_SUPPORT
static struct ppm_pwr_idx_ref_tbl cpu_pwr_idx_ref_tbl_FY_v2[] = {
	[0] = {
		{138, 124, 114, 103, 93, 82, 75, 68, 56, 46, 35, 27, 21, 16, 13, 8},
		{124, 111, 102, 92, 83, 73, 66, 60, 49, 40, 30, 24, 20, 16, 13, 8},
		{138, 124, 114, 103, 93, 82, 75, 68, 56, 46, 35, 27, 21, 16, 13, 8},
		{157, 141, 131, 119, 109, 97, 89, 83, 70, 58, 47, 38, 31, 26, 24, 18},
		{175, 159, 147, 135, 124, 112, 104, 97, 83, 71, 60, 51, 47, 43, 41, 36},
		{157, 141, 131, 119, 109, 97, 89, 83, 70, 58, 47, 38, 31, 26, 24, 18},
		{55, 50, 47, 44, 40, 37, 35, 33, 29, 26, 23, 21, 19, 18, 17, 16},
		{93, 86, 81, 76, 71, 66, 62, 59, 53, 47, 42, 39, 38, 37, 36, 35},
		{55, 50, 47, 44, 40, 37, 35, 33, 29, 26, 23, 21, 19, 18, 17, 16},
	},
	[1] = {
		{250, 227, 209, 192, 177, 156, 143, 131, 109, 88, 69, 51, 41, 33, 24, 20},
		{225, 203, 187, 172, 157, 139, 126, 115, 96, 77, 59, 46, 40, 33, 24, 20},
		{250, 227, 209, 192, 177, 156, 143, 131, 109, 88, 69, 51, 41, 33, 24, 20},
		{320, 294, 273, 254, 236, 212, 197, 183, 158, 134, 111, 91, 79, 69, 60, 56},
		{422, 389, 364, 340, 317, 288, 271, 254, 223, 194, 167, 146, 140, 134, 124, 120},
		{320, 294, 273, 254, 236, 212, 197, 183, 158, 134, 111, 91, 79, 69, 60, 56},
		{135, 126, 119, 112, 105, 97, 92, 88, 79, 71, 63, 56, 52, 49, 47, 46},
		{245, 230, 219, 207, 197, 183, 175, 167, 153, 139, 125, 116, 114, 113, 110, 109},
		{135, 126, 119, 112, 105, 97, 92, 88, 79, 71, 63, 56, 52, 49, 47, 46},
	},
};

static struct ppm_pwr_idx_ref_tbl cpu_pwr_idx_ref_tbl_FY_v3[] = {
	[0] = {
		{153, 139, 124, 111, 102, 84, 74, 62, 51, 41, 32, 24, 19, 14, 12, 8},
		{137, 124, 110, 98, 90, 74, 64, 54, 44, 35, 27, 21, 17, 14, 12, 8},
		{153, 139, 124, 111, 102, 84, 74, 62, 51, 41, 32, 24, 19, 14, 12, 8},
		{165, 150, 135, 121, 112, 93, 83, 70, 59, 48, 39, 30, 25, 20, 18, 14},
		{169, 154, 138, 125, 115, 97, 86, 74, 63, 52, 43, 36, 33, 30, 28, 23},
		{165, 150, 135, 121, 112, 93, 83, 70, 59, 48, 39, 30, 25, 20, 18, 14},
		{50, 46, 41, 37, 35, 30, 27, 24, 21, 19, 16, 14, 13, 12, 12, 11},
		{76, 70, 64, 59, 55, 49, 45, 40, 36, 32, 28, 25, 25, 24, 24, 23},
		{50, 46, 41, 37, 35, 30, 27, 24, 21, 19, 16, 14, 13, 12, 12, 11},
	},
	[1] = {
		{270, 244, 217, 199, 185, 159, 141, 119, 100, 80, 62, 46, 38, 30, 22, 19},
		{242, 217, 192, 176, 163, 139, 122, 103, 85, 68, 53, 40, 35, 30, 22, 19},
		{270, 244, 217, 199, 185, 159, 141, 119, 100, 80, 62, 46, 38, 30, 22, 19},
		{341, 310, 278, 257, 241, 210, 189, 164, 142, 120, 99, 81, 70, 61, 53, 50},
		{442, 402, 361, 335, 314, 276, 251, 221, 195, 169, 145, 126, 121, 116, 108, 105},
		{341, 310, 278, 257, 241, 210, 189, 164, 142, 120, 99, 81, 70, 61, 53, 50},
		{125, 114, 104, 97, 92, 83, 77, 70, 64, 57, 52, 46, 43, 40, 39, 38},
		{232, 215, 196, 185, 177, 160, 149, 137, 126, 114, 104, 96, 95, 94, 92, 92},
		{125, 114, 104, 97, 92, 83, 77, 70, 64, 57, 52, 46, 43, 40, 39, 38},
	},
};

static int cpu_perf_idx_ref_tbl_FY_v2[NR_PPM_CLUSTERS][DVFS_OPP_NUM] = {
	{704, 671, 648, 620, 592, 559, 531, 509, 458, 408, 347, 291, 241, 190, 162, 95},
	{1006, 972, 944, 916, 888, 844, 805, 771, 704, 626, 537, 447, 386, 324, 229, 190},
};

static int cpu_perf_idx_ref_tbl_FY_v3[NR_PPM_CLUSTERS][DVFS_OPP_NUM] = {
	{727, 715, 704, 671, 648, 592, 559, 509, 458, 403, 347, 285, 241, 196, 168, 107},
	{1028, 1006, 983, 961, 939, 894, 849, 782, 715, 632, 542, 447, 391, 330, 246, 213},
};

static struct ppm_pwr_idx_ref_tbl cpu_pwr_idx_ref_tbl_SB_v2[] = {
	[0] = {
		{179, 158, 133, 114, 97, 82, 75, 68, 56, 46, 35, 27, 21, 16, 13, 8},
		{161, 142, 119, 101, 85, 72, 65, 60, 49, 39, 30, 24, 20, 16, 13, 8},
		{179, 158, 133, 114, 97, 82, 75, 68, 56, 46, 35, 27, 21, 16, 13, 8},
		{200, 178, 151, 131, 113, 97, 89, 83, 70, 58, 47, 38, 31, 26, 24, 18},
		{219, 196, 168, 146, 128, 111, 103, 96, 83, 71, 59, 51, 47, 43, 41, 36},
		{200, 178, 151, 131, 113, 97, 89, 83, 70, 58, 47, 38, 31, 26, 24, 18},
		{68, 62, 53, 47, 42, 37, 35, 33, 29, 26, 23, 21, 19, 18, 17, 16},
		{110, 102, 90, 80, 72, 65, 62, 59, 53, 47, 42, 39, 38, 37, 36, 35},
		{68, 62, 53, 47, 42, 37, 35, 33, 29, 26, 23, 21, 19, 18, 17, 16},
	},
	[1] = {
		{319, 285, 246, 212, 183, 156, 143, 131, 109, 88, 69, 51, 41, 33, 24, 20},
		{287, 255, 219, 188, 161, 137, 125, 114, 95, 76, 58, 46, 40, 33, 24, 20},
		{319, 285, 246, 212, 183, 156, 143, 131, 109, 88, 69, 51, 41, 33, 24, 20},
		{398, 360, 315, 277, 243, 212, 197, 183, 158, 134, 111, 91, 79, 69, 60, 56},
		{513, 468, 413, 365, 323, 286, 268, 251, 221, 192, 165, 146, 140, 134, 124, 120},
		{398, 360, 315, 277, 243, 212, 197, 183, 158, 134, 111, 91, 79, 69, 60, 56},
		{162, 149, 133, 120, 108, 97, 92, 88, 79, 71, 63, 56, 52, 49, 47, 46},
		{285, 266, 241, 219, 199, 182, 174, 166, 152, 138, 124, 116, 114, 113, 110, 109},
		{162, 149, 133, 120, 108, 97, 92, 88, 79, 71, 63, 56, 52, 49, 47, 46},
	},
};

static struct ppm_pwr_idx_ref_tbl cpu_pwr_idx_ref_tbl_SB_v3[] = {
	[0] = {
		{200, 172, 145, 130, 120, 98, 87, 72, 60, 48, 37, 28, 22, 17, 13, 8},
		{179, 153, 129, 115, 105, 86, 75, 62, 51, 41, 31, 23, 18, 14, 12, 8},
		{200, 172, 145, 130, 120, 98, 87, 72, 60, 48, 37, 28, 22, 17, 13, 8},
		{214, 185, 157, 141, 130, 108, 96, 81, 68, 56, 45, 35, 28, 23, 19, 14},
		{216, 188, 160, 145, 134, 112, 100, 85, 72, 60, 50, 40, 34, 30, 28, 23},
		{214, 185, 157, 141, 130, 108, 96, 81, 68, 56, 45, 35, 28, 23, 19, 14},
		{65, 56, 48, 44, 41, 35, 31, 27, 24, 21, 18, 16, 14, 13, 12, 11},
		{94, 83, 73, 68, 64, 56, 51, 46, 41, 36, 32, 28, 26, 24, 24, 23},
		{65, 56, 48, 44, 41, 35, 31, 27, 24, 21, 18, 16, 14, 13, 12, 11},
	},
	[1] = {
		{340, 296, 254, 233, 216, 185, 164, 139, 116, 93, 73, 54, 44, 35, 24, 19},
		{304, 264, 224, 205, 190, 162, 142, 120, 99, 79, 61, 45, 37, 30, 22, 19},
		{340, 296, 254, 233, 216, 185, 164, 139, 116, 93, 73, 54, 44, 35, 24, 19},
		{420, 371, 323, 299, 280, 243, 219, 190, 164, 138, 114, 92, 81, 69, 57, 50},
		{535, 478, 419, 389, 364, 319, 290, 255, 224, 194, 166, 140, 126, 116, 108, 105},
		{420, 371, 323, 299, 280, 243, 219, 190, 164, 138, 114, 92, 81, 69, 57, 50},
		{151, 135, 120, 112, 106, 95, 87, 79, 71, 64, 57, 51, 48, 44, 41, 38},
		{271, 248, 224, 211, 200, 181, 169, 155, 141, 129, 117, 105, 98, 94, 92, 92},
		{151, 135, 120, 112, 106, 95, 87, 79, 71, 64, 57, 51, 48, 44, 41, 38},
	},
};

static int cpu_perf_idx_ref_tbl_SB_v2[NR_PPM_CLUSTERS][DVFS_OPP_NUM] = {
	{788, 738, 693, 648, 604, 559, 531, 509, 458, 408, 347, 291, 241, 190, 162, 95},
	{1106, 1050, 1000, 950, 900, 844, 805, 771, 704, 626, 537, 447, 386, 324, 229, 190},
};

static int cpu_perf_idx_ref_tbl_SB_v3[NR_PPM_CLUSTERS][DVFS_OPP_NUM] = {
	{816, 760, 704, 671, 648, 592, 559, 509, 458, 403, 347, 285, 241, 196, 168, 107},
	{1106, 1045, 983, 961, 939, 894, 849, 782, 715, 632, 542, 447, 391, 330, 246, 213},
};
#else
static struct ppm_pwr_idx_ref_tbl cpu_pwr_idx_ref_tbl_FY[] = {
	[0] = {
		{138, 124, 114, 103, 93, 82, 75, 68, 56, 46, 35, 27, 21, 16, 13, 8},
		{124, 111, 102, 92, 83, 73, 66, 60, 49, 40, 30, 24, 20, 16, 13, 8},
		{138, 124, 114, 103, 93, 82, 75, 68, 56, 46, 35, 27, 21, 16, 13, 8},
		{157, 141, 131, 119, 109, 97, 89, 83, 70, 58, 47, 38, 31, 26, 24, 18},
		{175, 159, 147, 135, 124, 112, 104, 97, 83, 71, 60, 51, 47, 43, 41, 36},
		{157, 141, 131, 119, 109, 97, 89, 83, 70, 58, 47, 38, 31, 26, 24, 18},
		{55, 50, 47, 44, 40, 37, 35, 33, 29, 26, 23, 21, 19, 18, 17, 16},
		{93, 86, 81, 76, 71, 66, 62, 59, 53, 47, 42, 39, 38, 37, 36, 35},
		{55, 50, 47, 44, 40, 37, 35, 33, 29, 26, 23, 21, 19, 18, 17, 16},
	},
	[1] = {
		{250, 227, 209, 192, 177, 156, 143, 131, 109, 88, 69, 51, 41, 33, 24, 20},
		{225, 203, 187, 172, 157, 139, 126, 115, 96, 77, 59, 46, 40, 33, 24, 20},
		{250, 227, 209, 192, 177, 156, 143, 131, 109, 88, 69, 51, 41, 33, 24, 20},
		{320, 294, 273, 254, 236, 212, 197, 183, 158, 134, 111, 91, 79, 69, 60, 56},
		{422, 389, 364, 340, 317, 288, 271, 254, 223, 194, 167, 146, 140, 134, 124, 120},
		{320, 294, 273, 254, 236, 212, 197, 183, 158, 134, 111, 91, 79, 69, 60, 56},
		{135, 126, 119, 112, 105, 97, 92, 88, 79, 71, 63, 56, 52, 49, 47, 46},
		{245, 230, 219, 207, 197, 183, 175, 167, 153, 139, 125, 116, 114, 113, 110, 109},
		{135, 126, 119, 112, 105, 97, 92, 88, 79, 71, 63, 56, 52, 49, 47, 46},
	},
};

static int cpu_perf_idx_ref_tbl_FY[NR_PPM_CLUSTERS][DVFS_OPP_NUM] = {
	{704, 671, 648, 620, 592, 559, 531, 509, 458, 408, 347, 291, 241, 190, 162, 95},
	{1006, 972, 944, 916, 888, 844, 805, 771, 704, 626, 537, 447, 386, 324, 229, 190},
};

static struct ppm_pwr_idx_ref_tbl cpu_pwr_idx_ref_tbl_SB[] = {
	[0] = {
		{179, 158, 133, 114, 97, 82, 75, 68, 56, 46, 35, 27, 21, 16, 13, 8},
		{161, 142, 119, 101, 85, 72, 65, 60, 49, 39, 30, 24, 20, 16, 13, 8},
		{179, 158, 133, 114, 97, 82, 75, 68, 56, 46, 35, 27, 21, 16, 13, 8},
		{200, 178, 151, 131, 113, 97, 89, 83, 70, 58, 47, 38, 31, 26, 24, 18},
		{219, 196, 168, 146, 128, 111, 103, 96, 83, 71, 59, 51, 47, 43, 41, 36},
		{200, 178, 151, 131, 113, 97, 89, 83, 70, 58, 47, 38, 31, 26, 24, 18},
		{68, 62, 53, 47, 42, 37, 35, 33, 29, 26, 23, 21, 19, 18, 17, 16},
		{110, 102, 90, 80, 72, 65, 62, 59, 53, 47, 42, 39, 38, 37, 36, 35},
		{68, 62, 53, 47, 42, 37, 35, 33, 29, 26, 23, 21, 19, 18, 17, 16},
	},
	[1] = {
		{319, 285, 246, 212, 183, 156, 143, 131, 109, 88, 69, 51, 41, 33, 24, 20},
		{287, 255, 219, 188, 161, 137, 125, 114, 95, 76, 58, 46, 40, 33, 24, 20},
		{319, 285, 246, 212, 183, 156, 143, 131, 109, 88, 69, 51, 41, 33, 24, 20},
		{398, 360, 315, 277, 243, 212, 197, 183, 158, 134, 111, 91, 79, 69, 60, 56},
		{513, 468, 413, 365, 323, 286, 268, 251, 221, 192, 165, 146, 140, 134, 124, 120},
		{398, 360, 315, 277, 243, 212, 197, 183, 158, 134, 111, 91, 79, 69, 60, 56},
		{162, 149, 133, 120, 108, 97, 92, 88, 79, 71, 63, 56, 52, 49, 47, 46},
		{285, 266, 241, 219, 199, 182, 174, 166, 152, 138, 124, 116, 114, 113, 110, 109},
		{162, 149, 133, 120, 108, 97, 92, 88, 79, 71, 63, 56, 52, 49, 47, 46},
	},
};

static int cpu_perf_idx_ref_tbl_SB[NR_PPM_CLUSTERS][DVFS_OPP_NUM] = {
	{788, 738, 693, 648, 604, 559, 531, 509, 458, 408, 347, 291, 241, 190, 162, 95},
	{1106, 1050, 1000, 950, 900, 844, 805, 771, 704, 626, 537, 447, 386, 324, 229, 190},
};
#endif

