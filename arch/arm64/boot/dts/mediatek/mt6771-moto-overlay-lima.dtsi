/* Copyright (c) 2019, Motorola Mobility Inc. All rights reserved.
 *
 * This program is free software; you can redistribute it and/or modify
 * it under the terms of the GNU General Public License version 2 and
 * only version 2 as published by the Free Software Foundation.
 *
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU General Public License for more details.
 */

#include "mt6771-moto-overlay.dtsi"
#include "mt6771-moto-audio-lima.dtsi"

&ctp_pins_eint_as_int {
	pins_cmd_dat {
		pins = <PINMUX_GPIO6__FUNC_GPIO6>;
	};
};
&ctp_pins_eint_output0 {
	pins_cmd_dat {
		pins = <PINMUX_GPIO6__FUNC_GPIO6>;
	};
};
&ctp_pins_eint_output1 {
	pins_cmd_dat {
		pins = <PINMUX_GPIO6__FUNC_GPIO6>;
	};
};
&ctp_pins_rst_output0 {
	pins_cmd_dat {
		pins = <PINMUX_GPIO70__FUNC_GPIO70>;
	};
};
&ctp_pins_rst_output1 {
	pins_cmd_dat {
		pins = <PINMUX_GPIO70__FUNC_GPIO70>;
	};
};

&spi2{
	cap_touch_mtk_spi:cap_touch_spi@0{
		compatible= "mediatek,cap_touch_spi";
		spi-max-frequency = <10000000>;
		reg = <0x0>;
		status = "okay";
	};
};

&odm {
	sar_irq:sar_irq {
	compatible = "mediatek,sar_irq";
	};
};

&i2c3 {
	abov_sar@20 {
	   compatible = "mediatek,sar";
	   reg = <0x20>;
	   gpio-irq = <9>;
	   gpio-irq-std = <&pio 9 0x0>;
	   reg_array_len = <0x03>;
	   reg_array_val = <0x07 0x00 0x08 0x1F 0xFB 0x01>;
	   cap,use_channel_bottom_lmb = <0x00>;
	   cap,use_channel_bottom_hb = <0x01>;
	   cap,use_channel_top = <0x02>;
	   label = "AbovCapSense";
	   status =  "okay";
	 };

	aw8624_haptic@5a {
		compatible = "awinic,aw8624_haptic";
		reg = <0x5a>;
		reset-gpio = <&pio 165 0x0>;
		/* irq-gpio = <&pio 4 0>; */
		vib_f0_pre = < 2350 >;
		vib_f0_cali_percen = < 7 >;
		vib_cont_drv_lev = < 125 >;
		vib_cont_drv_lvl_ov = < 155 >;
		vib_cont_td = < 0xF06C >;
		vib_cont_zc_thr = < 0x08F8 >;
		vib_cont_num_brk = < 3 >;
		vib_f0_coeff = < 260 >; /*Don't modify it*/
		vib_duration_time = < 15 60 0 0 0 >;
		vib_brake_ram_config = < 1 1 90 60 20 3 1 3    1 1 90 60 30 5 1 3    0 0 50 40 25 0 5 3 >;
		vib_brake_cont_config = < 1 1 90 42 20 5 2 2 0 0 0  0  0  0 0 0 0 0 0   0  0  0 0 0 >;
		vib_f0_trace_parameter = < 9 3 1 31 >;
		vib_bemf_config = < 0 8 3 0xf8 >;
		vib_sw_brake = < 0x2c >;
		vib_wavseq = < 0 1 1 2 0 0 0 0 0 0 0 0 0 0 0 0 >; /*wavseq1-seq8 0x07-0x0E*/
		vib_wavloop = < 0 6 1 15 0 0 0 0 0 0>;/*loop1-mainloog 0x0f-0x13*/
		vib_td_brake = < 42720 42720 42720 >; /*level0  level1  level2*/
		vib_tset = < 0x11 >;
		vib_func_parameter1 = < 1000 >;
		status = "okay";
	};
};

&msdc1 {
        cd_level = /bits/ 8 <MSDC_CD_HIGH>;
};

&i2c5 {
	i2c_lcd_bias@3e {
		compatible = "mediatek,i2c_lcd_bias";
		reg = <0x3e>;
		bias_gpio_enn = <&pio 151 0>;
		bias_gpio_enp = <&pio 150 0>;
		status = "okay";
	};
};
